<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS2 Global Remote Control</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ÔøΩ CS2 Global Remote Control</h1>
            <div class="connection-info">
                <div class="status" id="status">üü¢ –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</div>
                <div class="stats">
                    <span>–ö–æ–º–∞–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: <strong id="commands-sent">0</strong></span>
                    <span>–ê–∫—Ç–∏–≤–µ–Ω: <strong id="session-time">0:00</strong></span>
                </div>
            </div>
        </header>

        <main>
            <section class="control-panel">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–µ–π</h2>

                <div class="button-group">
                    <button class="control-btn live" data-action="live" data-page="1" data-row="2" data-col="1">üî¥ LIVE</button>
                    <button class="control-btn pause" data-action="pause" data-page="1" data-row="2" data-col="2">‚è∏Ô∏è PAUSE</button>
                    <button class="control-btn stop" data-action="stop" data-page="1" data-row="2" data-col="3">‚èπÔ∏è STOP</button>
                </div>

                <h3>–†–∞—É–Ω–¥—ã (1-10)</h3>
                <div class="rounds-grid">
                    <button class="control-btn round" data-action="round1" data-page="1" data-row="3" data-col="1">R1</button>
                    <button class="control-btn round" data-action="round2" data-page="1" data-row="3" data-col="2">R2</button>
                    <button class="control-btn round" data-action="round3" data-page="1" data-row="3" data-col="3">R3</button>
                    <button class="control-btn round" data-action="round4" data-page="1" data-row="3" data-col="4">R4</button>
                    <button class="control-btn round" data-action="round5" data-page="1" data-row="3" data-col="5">R5</button>
                    <button class="control-btn round" data-action="round6" data-page="1" data-row="3" data-col="6">R6</button>
                    <button class="control-btn round" data-action="round7" data-page="1" data-row="3" data-col="7">R7</button>
                    <button class="control-btn round" data-action="round8" data-page="1" data-row="4" data-col="1">R8</button>
                    <button class="control-btn round" data-action="round9" data-page="1" data-row="4" data-col="2">R9</button>
                    <button class="control-btn round" data-action="round10" data-page="1" data-row="4" data-col="3">R10</button>
                </div>
            </section>

            <section class="custom-section">
                <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏</h3>
                <div class="button-group">
                    <button class="control-btn test" data-action="knife-round" data-page="1" data-row="1" data-col="4">üî™ Knife Round</button>
                    <button class="control-btn test" data-action="overtime" data-page="1" data-row="1" data-col="5">‚è∞ Overtime</button>
                    <button class="control-btn test" data-action="technical" data-page="1" data-row="1" data-col="6">üîß Technical</button>
                </div>

                <h4>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∫–Ω–æ–ø–∫—É</h4>
                <div class="custom-form">
                    <input type="text" id="custom-label" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏" maxlength="20">
                    <input type="number" id="custom-page" placeholder="–°—Ç—Ä." min="1" max="99" value="1">
                    <input type="number" id="custom-row" placeholder="–†—è–¥" min="1" max="8" value="1">
                    <input type="number" id="custom-col" placeholder="–ö–æ–ª." min="0" max="8" value="1">
                    <button id="add-custom-btn">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É</button>
                </div>
                <div class="custom-buttons" id="custom-buttons"></div>
            </section>

            <section class="settings" id="settings-section" style="margin-top:20px;">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ GSI</h3>
                <div class="info-group" style="display:grid; gap:12px; max-width:780px;">
                    <div class="info-item">
                        <label for="mode-select">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:</label>
                        <select id="mode-select">
                            <option value="local" selected>–õ–æ–∫–∞–ª—å–Ω–æ (–Ω–∞ —ç—Ç–æ–º –ü–ö)</option>
                            <option value="firebase">–ì–ª–æ–±–∞–ª—å–Ω–æ (Firebase)</option>
                        </select>
                    </div>
                    <div class="info-item" id="firebase-config-wrap" style="display:none;">
                        <label for="firebase-config">Firebase config (JSON):</label>
                        <textarea id="firebase-config" rows="5" placeholder='{"apiKey":"...","authDomain":"...","databaseURL":"https://<project>.firebaseio.com/", ...}'></textarea>
                    </div>
                    <div class="info-item" id="firebase-session-wrap" style="display:none;">
                        <label for="session-id">Session ID:</label>
                        <input type="text" id="session-id" placeholder="cs2-...">
                        <button class="btn-small" id="gen-session">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                    <div class="info-item" id="polling-url-wrap" style="display:none;">
                        <label>URL –¥–ª—è GSI Companion (Remote Controller URL):</label>
                        <input type="text" id="polling-url" readonly>
                        <button class="btn-small" id="copy-url">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                    <div class="info-item" id="apply-wrap" style="display:none;">
                        <button class="btn-small" id="apply-firebase">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                        <span id="connection-details" style="margin-left:8px; opacity:0.8;">–û–∂–∏–¥–∞–Ω–∏–µ‚Ä¶</span>
                    </div>
                    <p id="settings-hint" style="opacity:0.8;">–í –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –∫–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ GSI Companion –Ω–∞ —ç—Ç–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (http://localhost:2828). –î–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥ Firebase.</p>
                </div>
            </section>

            <section class="log-section">
                <h3>–õ–æ–≥ —Å–æ–±—ã—Ç–∏–π</h3>
                <div class="log-controls">
                    <button id="clear-log">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button id="export-log">–≠–∫—Å–ø–æ—Ä—Ç</button>
                </div>
                <div class="log" id="event-log">
                    <div class="log-entry info">–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω</div>
                </div>
            </section>
        </main>

        <footer>
            <p>üéÆ CS2 Global Remote Control ‚Äî –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</p>
            <p><small>–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–µ—Å—Å–∏–π ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∏–º–∞–π—Ç–µ –∫–Ω–æ–ø–∫–∏</small></p>
        </footer>
    </div>

    <!-- Firebase SDK (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="global-script.js"></script>
</body>
</html>
